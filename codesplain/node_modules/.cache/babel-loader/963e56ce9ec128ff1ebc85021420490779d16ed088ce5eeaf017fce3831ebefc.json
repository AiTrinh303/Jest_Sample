{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport useSWR from 'swr';\nimport getLangFromPath from '../util/getLangFromPath';\nasync function explanationFetcher([url, {\n  text,\n  path\n}]) {\n  const {\n    data\n  } = await axios.post(url, {\n    text,\n    language: getLangFromPath(path)\n  });\n  const choice = data && data.choices && data.choices[0] && data.choices[0];\n  return choice.text.trim();\n}\nexport default function useExplanation({\n  text,\n  path\n}) {\n  _s();\n  const {\n    data,\n    error,\n    isLoading\n  } = useSWR([`/api/explain`, {\n    text,\n    path\n  }], explanationFetcher);\n  return {\n    isLoading,\n    error,\n    explanation: data\n  };\n}\n_s(useExplanation, \"3etLDUffADz62tD7g9gJKxYxEy4=\", false, function () {\n  return [useSWR];\n});","map":{"version":3,"names":["axios","useSWR","getLangFromPath","explanationFetcher","url","text","path","data","post","language","choice","choices","trim","useExplanation","_s","error","isLoading","explanation"],"sources":["/home/dci-student/Desktop/Jest_Sample/codesplain/src/hooks/useExplanation.js"],"sourcesContent":["import axios from 'axios';\nimport useSWR from 'swr';\nimport getLangFromPath from '../util/getLangFromPath';\n\nasync function explanationFetcher([url, { text, path }]) {\n  const { data } = await axios.post(url, {\n    text,\n    language: getLangFromPath(path),\n  });\n  const choice = data && data.choices && data.choices[0] && data.choices[0];\n\n  return choice.text.trim();\n}\n\nexport default function useExplanation({ text, path }) {\n  const { data, error, isLoading } = useSWR(\n    [`/api/explain`, { text, path }],\n    explanationFetcher\n  );\n\n  return {\n    isLoading,\n    error,\n    explanation: data,\n  };\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,KAAK;AACxB,OAAOC,eAAe,MAAM,yBAAyB;AAErD,eAAeC,kBAAkBA,CAAC,CAACC,GAAG,EAAE;EAAEC,IAAI;EAAEC;AAAK,CAAC,CAAC,EAAE;EACvD,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAACJ,GAAG,EAAE;IACrCC,IAAI;IACJI,QAAQ,EAAEP,eAAe,CAACI,IAAI;EAChC,CAAC,CAAC;EACF,MAAMI,MAAM,GAAGH,IAAI,IAAIA,IAAI,CAACI,OAAO,IAAIJ,IAAI,CAACI,OAAO,CAAC,CAAC,CAAC,IAAIJ,IAAI,CAACI,OAAO,CAAC,CAAC,CAAC;EAEzE,OAAOD,MAAM,CAACL,IAAI,CAACO,IAAI,CAAC,CAAC;AAC3B;AAEA,eAAe,SAASC,cAAcA,CAAC;EAAER,IAAI;EAAEC;AAAK,CAAC,EAAE;EAAAQ,EAAA;EACrD,MAAM;IAAEP,IAAI;IAAEQ,KAAK;IAAEC;EAAU,CAAC,GAAGf,MAAM,CACvC,CAAC,cAAc,EAAE;IAAEI,IAAI;IAAEC;EAAK,CAAC,CAAC,EAChCH,kBACF,CAAC;EAED,OAAO;IACLa,SAAS;IACTD,KAAK;IACLE,WAAW,EAAEV;EACf,CAAC;AACH;AAACO,EAAA,CAXuBD,cAAc;EAAA,QACDZ,MAAM;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}